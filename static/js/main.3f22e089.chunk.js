(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('[{"theme":"default","bg":"rgba(255, 255, 255, 1)","text":"rgba(73, 87, 88, 1)","primary":"rgba(31, 166, 157, 1)","secondary":"rgba(29, 211, 176, 1)"},{"theme":"warm","bg":"rgba(245, 238, 215, 1)","text":"rgba(115, 106, 81, 1)","primary":"rgba(191, 59, 59, 1)","secondary":"rgba(255, 159, 41, 1)"},{"theme":"dark","bg":"rgba(13, 82, 84, 1)","text":"rgba(241, 241, 241, 1)","primary":"rgba(241, 241, 241, 1)","secondary":"rgba(241, 241, 241, 1)"},{"theme":"tonic","bg":"rgba(253, 255, 252, 1)","text":"rgba(1, 22, 39, 1)","primary":"rgba(187, 13, 36, 1)","secondary":"rgba(4, 80, 142, 1)"},{"theme":"rainy","bg":"rgba(228, 253, 225, 1)","text":"rgba(87, 87, 97, 1)","primary":"rgba(138, 203, 136, 1)","secondary":"rgba(100, 131, 129, 1)"}]')},16:function(e){e.exports=JSON.parse('{"200":{"label":"thunderstorm with light rain","icon":"storm-showers"},"201":{"label":"thunderstorm with rain","icon":"storm-showers"},"202":{"label":"thunderstorm with heavy rain","icon":"storm-showers"},"210":{"label":"light thunderstorm","icon":"storm-showers"},"211":{"label":"thunderstorm","icon":"thunderstorm"},"212":{"label":"heavy thunderstorm","icon":"thunderstorm"},"221":{"label":"ragged thunderstorm","icon":"thunderstorm"},"230":{"label":"thunderstorm with light drizzle","icon":"storm-showers"},"231":{"label":"thunderstorm with drizzle","icon":"storm-showers"},"232":{"label":"thunderstorm with heavy drizzle","icon":"storm-showers"},"300":{"label":"light intensity drizzle","icon":"sprinkle"},"301":{"label":"drizzle","icon":"sprinkle"},"302":{"label":"heavy intensity drizzle","icon":"sprinkle"},"310":{"label":"light intensity drizzle rain","icon":"sprinkle"},"311":{"label":"drizzle rain","icon":"sprinkle"},"312":{"label":"heavy intensity drizzle rain","icon":"sprinkle"},"313":{"label":"shower rain and drizzle","icon":"sprinkle"},"314":{"label":"heavy shower rain and drizzle","icon":"sprinkle"},"321":{"label":"shower drizzle","icon":"sprinkle"},"500":{"label":"light rain","icon":"rain"},"501":{"label":"moderate rain","icon":"rain"},"502":{"label":"heavy intensity rain","icon":"rain"},"503":{"label":"very heavy rain","icon":"rain"},"504":{"label":"extreme rain","icon":"rain"},"511":{"label":"freezing rain","icon":"rain-mix"},"520":{"label":"light intensity shower rain","icon":"showers"},"521":{"label":"shower rain","icon":"showers"},"522":{"label":"heavy intensity shower rain","icon":"showers"},"531":{"label":"ragged shower rain","icon":"showers"},"600":{"label":"light snow","icon":"snow"},"601":{"label":"snow","icon":"snow"},"602":{"label":"heavy snow","icon":"snow"},"611":{"label":"sleet","icon":"sleet"},"612":{"label":"shower sleet","icon":"sleet"},"615":{"label":"light rain and snow","icon":"rain-mix"},"616":{"label":"rain and snow","icon":"rain-mix"},"620":{"label":"light shower snow","icon":"rain-mix"},"621":{"label":"shower snow","icon":"rain-mix"},"622":{"label":"heavy shower snow","icon":"rain-mix"},"701":{"label":"mist","icon":"sprinkle"},"711":{"label":"smoke","icon":"smoke"},"721":{"label":"haze","icon":"day-haze"},"731":{"label":"sand, dust whirls","icon":"cloudy-gusts"},"741":{"label":"fog","icon":"fog"},"751":{"label":"sand","icon":"cloudy-gusts"},"761":{"label":"dust","icon":"dust"},"762":{"label":"volcanic ash","icon":"smog"},"771":{"label":"squalls","icon":"day-windy"},"781":{"label":"tornado","icon":"tornado"},"800":{"label":"clear sky","icon":"sunny"},"801":{"label":"few clouds","icon":"cloudy"},"802":{"label":"scattered clouds","icon":"cloudy"},"803":{"label":"broken clouds","icon":"cloudy"},"804":{"label":"overcast clouds","icon":"cloudy"},"900":{"label":"tornado","icon":"tornado"},"901":{"label":"tropical storm","icon":"hurricane"},"902":{"label":"hurricane","icon":"hurricane"},"903":{"label":"cold","icon":"snowflake-cold"},"904":{"label":"hot","icon":"hot"},"905":{"label":"windy","icon":"windy"},"906":{"label":"hail","icon":"hail"},"951":{"label":"calm","icon":"sunny"},"952":{"label":"light breeze","icon":"cloudy-gusts"},"953":{"label":"gentle breeze","icon":"cloudy-gusts"},"954":{"label":"moderate breeze","icon":"cloudy-gusts"},"955":{"label":"fresh breeze","icon":"cloudy-gusts"},"956":{"label":"strong breeze","icon":"cloudy-gusts"},"957":{"label":"high wind, near gale","icon":"cloudy-gusts"},"958":{"label":"gale","icon":"cloudy-gusts"},"959":{"label":"severe gale","icon":"cloudy-gusts"},"960":{"label":"storm","icon":"thunderstorm"},"961":{"label":"violent storm","icon":"thunderstorm"},"962":{"label":"hurricane","icon":"cloudy-gusts"}}')},26:function(e,t,a){},30:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(15),i=a.n(s),c=(a(25),a(26),a(3)),o=a(0),l="color-theme",u=function(){if("undefined"!==typeof window&&window.localStorage){var e=window.localStorage.getItem(l);return e||(window.localStorage.setItem(l,"default"),"default")}return"default"},d=n.a.createContext(),m=function(e){e.initialTheme;var t=e.children,a=Object(r.useState)(u),n=Object(c.a)(a,2),s=n[0],i=n[1];Object(r.useEffect)((function(){m(s)}),[s]);var m=function(e){document.body.setAttribute("data-theme",e),localStorage.setItem(l,e)};return Object(o.jsx)(d.Provider,{value:{theme:s,setTheme:i},children:t})},h=a(2),b=a.n(h),p=a(4),j=a(14),f=a(8),w=a(9),x=a(20),y=a(19),v=a(16);function g(e){var t=v[e].icon;return e>699&&e<800||e>899&&e<1e3||(t="day-"+t),"wi wi-"+t}var O=function(e){return Math.round(e-273)},_=a(12),N=a.n(_),k=function(e){var t=new Date(1e3*e);return N()(t).format("ddd, MMMM DD")},z=function(e){var t=new Date(1e3*e);return N()(t).format("HH:MM")};function S(e){return T.apply(this,arguments)}function T(){return(T=Object(p.a)(b.a.mark((function e(t){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=6;break}throw C(a.status);case 6:return e.next=8,a.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){var t;switch(e){case 401:t="It looks like the API did not authorize your request. Please ensure you have a valid API key.";break;case 404:t="No results found. Check your query again or try searching for a different location.";break;case 429:t="It looks like you've made too many requests to the server. Please wait a while before trying again.";break;default:t="Sorry. Something went wrong, we'll fix it soon"}return new Error(t)}var F=a(17),I=(a(30),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return Object(F.a)(e,{timeout:t,type:"error"})}),D="c4158e4f284ca24ba099bf786dc1c69a",L="https://api.openweathermap.org/data/2.5/",V=function(e){var t=e.latitude,a=e.longitude,r="&lat=".concat(t,"&lon=").concat(a),n="".concat(L,"weather?appid=").concat(D).concat(r),s="".concat(L,"forecast?appid=").concat(D).concat(r),i=function(){var e=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(n);case 3:return t=e.sent,e.abrupt("return",{actualTemperature:O(t.main.temp).toFixed(0),date:k(t.dt),cityName:t.name,windSpeed:t.wind.speed,humidity:t.main.humidity.toFixed(0),pressure:t.main.pressure.toFixed(0),weatherDescription:t.weather[0].description.toUpperCase(),weatherIcon:g(t.weather[0].id)});case 7:e.prev=7,e.t0=e.catch(0),I("Couldn't get weather data");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(p.a)(b.a.mark((function e(){var t,a,r,n,i,c,o,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(s);case 3:for(t=e.sent,a=[],r=[],n=0;n<5;n++)a[n]=Number(O(t.list[n].main.temp).toFixed(1)),r[n]=z(t.list[n].dt);return i=[].concat(a).sort(),c=[i.pop(),i.shift()],o=c[0],l=c[1],e.abrupt("return",{temperaturesForecast:a,temperaturesForecastLabels:r,maxTemperature:o,minTemperature:l});case 12:e.prev=12,e.t0=e.catch(0),I("Couldn't get weather data");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Promise.all([i(),c()]).then((function(e){var t={actualTemperature:"21",cityName:"Tokyo",date:"Mon, September 13",humidity:"42",maxTemperature:23,minTemperature:17,pressure:"1012",temperaturesForecast:[21,20,19,17,23],temperaturesForecastLabels:["21:09","00:09","03:09","06:09","09:09"],weatherDescription:"BROKEN CLOUDS",weatherIcon:"wi wi-day-cloudy",windSpeed:2.32,loaded:!0};return e.forEach((function(e){t=Object.assign(t,e)})),t}))},M=function(){var e=Object(p.a)(b.a.mark((function e(){var t,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="0,0",e.prev=1,e.next=4,S("https://ipinfo.io/91.214.82.65?token=".concat("1095eea3e02881"));case 4:a=e.sent,t=a.loc,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),I("Your location is not defined");case 11:return r=t.split(","),e.abrupt("return",{latitude:r[0],longitude:r[1]});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),E=function(e){var t=e.cityName,a=e.date;return Object(o.jsxs)("div",{className:"geo",children:[Object(o.jsx)("div",{className:"geo__location",children:t}),Object(o.jsx)("div",{className:"geo__date",children:a})]})},P=a(5),q=a.n(P),A=function(e){var t=e.data,a=t.actualTemperature,r=t.maxTemperature,n=t.minTemperature,s=function(e){return e.toFixed(0)};return Object(o.jsxs)("div",{className:"temperature",children:[Object(o.jsx)("div",{className:"temperature__deg",children:Object(o.jsx)(q.a,{value:parseInt(a),formatValue:s})}),Object(o.jsxs)("div",{className:"temperature__wrap",children:[Object(o.jsx)("div",{className:"temperature__mesure",children:"\xb0C"}),Object(o.jsxs)("div",{className:"temperature__box",children:[Object(o.jsxs)("div",{className:"temperature__max",children:[Object(o.jsx)("span",{className:"temperature__mark",children:"\u2191"}),Object(o.jsx)("p",{className:"temperature__text",children:Object(o.jsx)(q.a,{value:parseInt(r),formatValue:s})}),Object(o.jsx)("span",{className:"temperature__unit",children:"\xb0C"})]}),Object(o.jsxs)("div",{className:"temperature__min",children:[Object(o.jsx)("span",{className:"temperature__mark",children:"\u2193"}),Object(o.jsx)("p",{className:"temperature__text",children:Object(o.jsx)(q.a,{value:parseInt(n),formatValue:s})}),Object(o.jsx)("span",{className:"temperature__unit",children:"\xb0C"})]})]})]})]})},B=function(e){var t=e.data,a=t.weatherDescription,r=t.weatherIcon,n=t.windSpeed,s=t.humidity,i=t.pressure,c=function(e){return e.toFixed(0)};return Object(o.jsxs)("div",{className:"detail",children:[Object(o.jsxs)("div",{className:"detail__wrap",children:[Object(o.jsx)("span",{className:"detail__icon",children:Object(o.jsx)("i",{className:r})}),Object(o.jsx)("div",{className:"detail__description",children:a})]}),Object(o.jsxs)("div",{className:"detail__box",children:[Object(o.jsxs)("div",{className:"detail__indicator",children:[Object(o.jsxs)("div",{className:"detail__info",children:[Object(o.jsx)(q.a,{value:parseFloat(n),formatValue:function(e){return e.toFixed(2)}}),Object(o.jsx)("span",{className:"detail__measure",children:"m/s"})]}),Object(o.jsx)("div",{className:"detail__name",children:"wind speed"})]}),Object(o.jsxs)("div",{className:"detail__indicator",children:[Object(o.jsxs)("div",{className:"detail__info",children:[Object(o.jsx)(q.a,{value:parseInt(s),formatValue:c}),Object(o.jsx)("span",{className:"detail__measure",children:"%"})]}),Object(o.jsx)("div",{className:"detail__name",children:"humidity"})]}),Object(o.jsxs)("div",{className:"detail__indicator",children:[Object(o.jsxs)("div",{className:"detail__info",children:[Object(o.jsx)(q.a,{value:parseInt(i),formatValue:c}),Object(o.jsx)("span",{className:"detail__measure",children:"hpa"})]}),Object(o.jsx)("div",{className:"detail__name",children:"pressure"})]})]})]})},J=a(13),R=a(18),U=a.n(R),H=a(10),Y=function(e){var t=e.data,a=t.temperaturesForecast,n=t.temperaturesForecastLabels,s=t.loaded,i=Object(r.useState)("#fff"),l=Object(c.a)(i,2),u=l[0],m=l[1],h=Object(r.useState)("#495758"),b=Object(c.a)(h,2),p=b[0],j=b[1],f=Object(r.useState)("#1fa69d"),w=Object(c.a)(f,2),x=w[0],y=w[1],v=Object(r.useContext)(d),g=v.theme;v.setTheme;Object(r.useEffect)((function(){try{var e=H.filter((function(e){return e.theme===g}))[0];m(e.bg),j(e.text),y(e.primary)}catch(r){var t=document.body,a=getComputedStyle(t);m(a.getPropertyValue("--color-bg")),j(a.getPropertyValue("--color-text")),y(a.getPropertyValue("--color-primary"))}}),[s,g]);var O={series:[{name:"Inflation",data:Object(J.a)(a)}],options:{chart:{height:350,type:"bar"},colors:x,plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{enabled:!0,formatter:function(e){return e+"\xb0C"},offsetY:10,style:{fontSize:"1.6rem",colors:[u]}},xaxis:{categories:Object(J.a)(n),position:"bottom",axisBorder:{show:!0},axisTicks:{show:!1},tooltip:{enabled:!1},labels:{style:{colors:p,fontSize:"1.5rem"}}},yaxis:{axisBorder:{show:!0},axisTicks:{show:!1},labels:{show:!0,align:"right",formatter:function(e){return e+"\xb0C"},style:{colors:p,fontSize:"1.5rem"}}}}};return Object(o.jsx)("div",{className:"diagram",children:Object(o.jsx)(U.a,{type:"bar",options:O.options,series:O.series})})},K=(a(35),function(e){e.isSearching;var t=e.onLocationChange,a=void 0===t?function(){}:t;return Object(o.jsx)("div",{className:"search",children:Object(o.jsxs)("div",{className:"search__wrap",children:[Object(o.jsx)("input",{type:"search",role:"search",onChange:a,placeholder:"Search for a location",className:"search__input"}),Object(o.jsx)("button",{type:"submit",className:"search__button",children:Object(o.jsx)("svg",{width:"24",height:"24",fill:"none",className:"search__icon",children:Object(o.jsx)("path",{d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})});var W=function(e){var t=Object(r.useContext)(d),a=t.theme,n=t.setTheme,s=function(e){var t=Object(r.useState)(e),a=Object(c.a)(t,2),n=a[0],s=a[1],i=Object(r.useRef)(null),o=function(e){i.current&&!i.current.contains(e.target)&&s(!1)};return Object(r.useEffect)((function(){return document.addEventListener("click",o,!0),function(){document.removeEventListener("click",o,!0)}})),{ref:i,isComponentVisible:n,setIsComponentVisible:s}}(!1),i=s.ref,l=s.isComponentVisible,u=s.setIsComponentVisible,m=function(){return u(!l)},h=function(e){return function(t){e.theme!==a&&n(e.theme),m()}};return Object(o.jsxs)("div",{className:"theme-switcher",ref:i,children:[Object(o.jsx)("span",{className:"theme-switcher__main",onClick:m}),Object(o.jsx)("ul",{className:"theme-switcher__dropdown "+(l?"":"theme-switcher__dropdown-hide"),children:H.map((function(e){return Object(o.jsx)("li",{className:"theme-switcher__item",children:Object(o.jsx)("span",{className:"theme-switcher__toggle",style:{boxShadow:"0 0 5px ".concat(e.secondary),border:"2px solid ".concat(e.primary),background:e.bg},onClick:h(e)})})}))})]})},G=function(e){Object(x.a)(a,e);var t=Object(y.a)(a);function a(e){var r;return Object(f.a)(this,a),(r=t.call(this,e)).handleLocationChange=function(e){var t=e.target.value.trim();console.log(t)},r.state={actualTemperature:"0",maxTemperature:"0",minTemperature:"0",date:"Fri, May 6",cityName:"City Name",windSpeed:"0",humidity:"0",pressure:"0",weatherDescription:"clouds",weatherIcon:"wi wi-day-cloudy",temperaturesForecast:[-10,-5,0,5,10],temperaturesForecastLabels:["09:00","12:00","15:00","18:00","21:00"],loaded:!1,theme:"default",isSearching:!1},r}return Object(w.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getFakeData",value:function(){var e=this;setTimeout((function(){e.setState(Object(j.a)({},{actualTemperature:"22",maxTemperature:24,minTemperature:18,date:"Mon, September 12th",cityName:"Tokyo",windSpeed:3.91,humidity:"43",pressure:"1016",weatherDescription:"OVERCAST CLOUDS",weatherIcon:"wi wi-day-cloudy",temperaturesForecast:[21,24,22,19,18],temperaturesForecastLabels:["12:09","15:09","18:09","21:09","00:09"],loaded:!0}))}),1e3)}},{key:"getData",value:function(){var e=Object(p.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return t=e.sent,e.next=5,V(t);case 5:a=e.sent,this.setState(Object(j.a)({},a));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.cityName,a=e.date,n=e.actualTemperature,s=e.maxTemperature,i=e.minTemperature,c=e.weatherDescription,l=e.weatherIcon,u=e.windSpeed,d=e.humidity,m=e.pressure,h=e.temperaturesForecast,b=e.temperaturesForecastLabels,p=(e.theme,e.loaded);e.isSearching;return console.log("!!!"),Object(o.jsx)(r.Fragment,{children:Object(o.jsxs)("div",{className:"main",children:[Object(o.jsxs)("div",{className:"panel",children:[Object(o.jsx)(K,{}),Object(o.jsx)(W,{})]}),Object(o.jsx)(E,{cityName:t,date:a}),Object(o.jsx)(A,{data:{actualTemperature:n,maxTemperature:s,minTemperature:i}}),Object(o.jsx)(B,{data:{weatherDescription:c,weatherIcon:l,windSpeed:u,humidity:d,pressure:m}}),Object(o.jsx)(Y,{data:{temperaturesForecast:h,temperaturesForecastLabels:b,loaded:p}})]})})}}]),a}(n.a.Component);i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(m,{children:Object(o.jsx)(G,{})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.3f22e089.chunk.js.map