(this["webpackJsonpreact-weather-app"]=this["webpackJsonpreact-weather-app"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"200":{"label":"thunderstorm with light rain","icon":"storm-showers"},"201":{"label":"thunderstorm with rain","icon":"storm-showers"},"202":{"label":"thunderstorm with heavy rain","icon":"storm-showers"},"210":{"label":"light thunderstorm","icon":"storm-showers"},"211":{"label":"thunderstorm","icon":"thunderstorm"},"212":{"label":"heavy thunderstorm","icon":"thunderstorm"},"221":{"label":"ragged thunderstorm","icon":"thunderstorm"},"230":{"label":"thunderstorm with light drizzle","icon":"storm-showers"},"231":{"label":"thunderstorm with drizzle","icon":"storm-showers"},"232":{"label":"thunderstorm with heavy drizzle","icon":"storm-showers"},"300":{"label":"light intensity drizzle","icon":"sprinkle"},"301":{"label":"drizzle","icon":"sprinkle"},"302":{"label":"heavy intensity drizzle","icon":"sprinkle"},"310":{"label":"light intensity drizzle rain","icon":"sprinkle"},"311":{"label":"drizzle rain","icon":"sprinkle"},"312":{"label":"heavy intensity drizzle rain","icon":"sprinkle"},"313":{"label":"shower rain and drizzle","icon":"sprinkle"},"314":{"label":"heavy shower rain and drizzle","icon":"sprinkle"},"321":{"label":"shower drizzle","icon":"sprinkle"},"500":{"label":"light rain","icon":"rain"},"501":{"label":"moderate rain","icon":"rain"},"502":{"label":"heavy intensity rain","icon":"rain"},"503":{"label":"very heavy rain","icon":"rain"},"504":{"label":"extreme rain","icon":"rain"},"511":{"label":"freezing rain","icon":"rain-mix"},"520":{"label":"light intensity shower rain","icon":"showers"},"521":{"label":"shower rain","icon":"showers"},"522":{"label":"heavy intensity shower rain","icon":"showers"},"531":{"label":"ragged shower rain","icon":"showers"},"600":{"label":"light snow","icon":"snow"},"601":{"label":"snow","icon":"snow"},"602":{"label":"heavy snow","icon":"snow"},"611":{"label":"sleet","icon":"sleet"},"612":{"label":"shower sleet","icon":"sleet"},"615":{"label":"light rain and snow","icon":"rain-mix"},"616":{"label":"rain and snow","icon":"rain-mix"},"620":{"label":"light shower snow","icon":"rain-mix"},"621":{"label":"shower snow","icon":"rain-mix"},"622":{"label":"heavy shower snow","icon":"rain-mix"},"701":{"label":"mist","icon":"sprinkle"},"711":{"label":"smoke","icon":"smoke"},"721":{"label":"haze","icon":"day-haze"},"731":{"label":"sand, dust whirls","icon":"cloudy-gusts"},"741":{"label":"fog","icon":"fog"},"751":{"label":"sand","icon":"cloudy-gusts"},"761":{"label":"dust","icon":"dust"},"762":{"label":"volcanic ash","icon":"smog"},"771":{"label":"squalls","icon":"day-windy"},"781":{"label":"tornado","icon":"tornado"},"800":{"label":"clear sky","icon":"sunny"},"801":{"label":"few clouds","icon":"cloudy"},"802":{"label":"scattered clouds","icon":"cloudy"},"803":{"label":"broken clouds","icon":"cloudy"},"804":{"label":"overcast clouds","icon":"cloudy"},"900":{"label":"tornado","icon":"tornado"},"901":{"label":"tropical storm","icon":"hurricane"},"902":{"label":"hurricane","icon":"hurricane"},"903":{"label":"cold","icon":"snowflake-cold"},"904":{"label":"hot","icon":"hot"},"905":{"label":"windy","icon":"windy"},"906":{"label":"hail","icon":"hail"},"951":{"label":"calm","icon":"sunny"},"952":{"label":"light breeze","icon":"cloudy-gusts"},"953":{"label":"gentle breeze","icon":"cloudy-gusts"},"954":{"label":"moderate breeze","icon":"cloudy-gusts"},"955":{"label":"fresh breeze","icon":"cloudy-gusts"},"956":{"label":"strong breeze","icon":"cloudy-gusts"},"957":{"label":"high wind, near gale","icon":"cloudy-gusts"},"958":{"label":"gale","icon":"cloudy-gusts"},"959":{"label":"severe gale","icon":"cloudy-gusts"},"960":{"label":"storm","icon":"thunderstorm"},"961":{"label":"violent storm","icon":"thunderstorm"},"962":{"label":"hurricane","icon":"cloudy-gusts"}}')},22:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(10),i=a.n(s),c=(a(22),a(2)),o=a.n(c),l=a(3),d=a(16),u=a(11),m=a(12),h=a(17),p=a(15),b=a(13);function j(e){var t=b[e].icon;return e>699&&e<800||e>899&&e<1e3||(t="day-"+t),"wi wi-"+t}var w=function(e){return Math.round(e-273)},x=a(8),y=a.n(x),f=function(e){var t=new Date(1e3*e);return y()(t).format("ddd, MMMM DD")},v=function(e){var t=new Date(1e3*e);return y()(t).format("HH:MM")},O="c4158e4f284ca24ba099bf786dc1c69a",g="https://api.openweathermap.org/data/2.5/",_=function(e){var t=e.latitude,a=e.longitude,r="&lat=".concat(t,"&lon=").concat(a),n="".concat(g,"weather?appid=").concat(O).concat(r),s="".concat(g,"forecast?appid=").concat(O).concat(r),i=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n);case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,console.log("currentWeatherData ->",a),e.abrupt("return",{actualTemperature:w(a.main.temp).toFixed(0),date:f(a.dt),cityName:a.name,windSpeed:a.wind.speed,humidity:a.main.humidity.toFixed(0),pressure:a.main.pressure.toFixed(0),weatherDescription:a.weather[0].description.toUpperCase(),weatherIcon:j(a.weather[0].id)});case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,r,n,i,c,l,d,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(s);case 3:return t=e.sent,e.next=6,t.json();case 6:for(a=e.sent,console.log("weatherForecastData ->",a),r=[],n=[],i=0;i<5;i++)r[i]=Number(w(a.list[i].main.temp).toFixed(1)),n[i]=v(a.list[i].dt);return c=[].concat(r).sort(),l=[c.pop(),c.shift()],d=l[0],u=l[1],e.abrupt("return",{temperaturesForecast:r,temperaturesForecastLabels:n,maxTemperature:d,minTemperature:u});case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Promise.all([i(),c()]).then((function(e){var t={};return e.forEach((function(e){t=Object.assign(t,e)})),t}))},N=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ipinfo.io/91.214.82.65?token=".concat("1095eea3e02881"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,r=a.loc.split(","),e.abrupt("return",{location:{latitude:r[0],longitude:r[1]}});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=a(0),z=function(e){var t=e.cityName,a=e.date;return Object(k.jsxs)("div",{className:"geo",children:[Object(k.jsx)("div",{className:"geo__location",children:t}),Object(k.jsx)("div",{className:"geo__date",children:a})]})},T=function(e){var t=e.data,a=t.actualTemperature,r=t.maxTemperature,n=t.minTemperature;return Object(k.jsxs)("div",{className:"temperature",children:[Object(k.jsx)("div",{className:"temperature__deg",children:a}),Object(k.jsxs)("div",{className:"temperature__wrap",children:[Object(k.jsx)("div",{className:"temperature__mesure",children:"\xb0C"}),Object(k.jsxs)("div",{className:"temperature__box",children:[Object(k.jsxs)("div",{className:"temperature__max",children:[Object(k.jsx)("span",{className:"temperature__mark",children:"\u2191"}),Object(k.jsx)("p",{className:"temperature__text",children:r}),Object(k.jsx)("span",{className:"temperature__unit",children:"\xb0C"})]}),Object(k.jsxs)("div",{className:"temperature__min",children:[Object(k.jsx)("span",{className:"temperature__mark",children:"\u2193"}),Object(k.jsx)("p",{className:"temperature__text",children:n}),Object(k.jsx)("span",{className:"temperature__unit",children:"\xb0C"})]})]})]})]})},F=function(e){var t=e.data,a=t.weatherDescription,r=t.weatherIcon,n=t.windSpeed,s=t.humidity,i=t.pressure;return Object(k.jsxs)("div",{className:"detail",children:[Object(k.jsxs)("div",{className:"detail__wrap",children:[Object(k.jsx)("span",{className:"detail__icon",children:Object(k.jsx)("i",{className:r})}),Object(k.jsx)("div",{className:"detail__description",children:a})]}),Object(k.jsxs)("div",{className:"detail__box",children:[Object(k.jsxs)("div",{className:"detail__indicator",children:[Object(k.jsxs)("div",{className:"detail__info",children:[n,Object(k.jsx)("span",{className:"detail__measure",children:"m/s"})]}),Object(k.jsx)("div",{className:"detail__name",children:"wind speed"})]}),Object(k.jsxs)("div",{className:"detail__indicator",children:[Object(k.jsxs)("div",{className:"detail__info",children:[s,Object(k.jsx)("span",{className:"detail__measure",children:"%"})]}),Object(k.jsx)("div",{className:"detail__name",children:"humidity"})]}),Object(k.jsxs)("div",{className:"detail__indicator",children:[Object(k.jsxs)("div",{className:"detail__info",children:[i,Object(k.jsx)("span",{className:"detail__measure",children:"hpa"})]}),Object(k.jsx)("div",{className:"detail__name",children:"pressure"})]})]})]})},S=a(9),D=a(4),L=a(14),C=a.n(L),I=function(e){var t=e.data,a=t.temperaturesForecast,n=t.temperaturesForecastLabels,s=t.loaded,i=Object(r.useState)("#fff"),c=Object(D.a)(i,2),o=c[0],l=c[1],d=Object(r.useState)("#495758"),u=Object(D.a)(d,2),m=u[0],h=u[1],p=Object(r.useState)("#1fa69d"),b=Object(D.a)(p,2),j=b[0],w=b[1],x=Object(r.useState)("rgba(29, 211, 176, 1)"),y=Object(D.a)(x,2),f=(y[0],y[1]);Object(r.useEffect)((function(){var e=document.body,t=getComputedStyle(e);l(t.getPropertyValue("--color-bg")),h(t.getPropertyValue("--color-text")),w(t.getPropertyValue("--color-primary")),f(t.getPropertyValue("--color-secondary"))}),[s]);var v={series:[{name:"Inflation",data:Object(S.a)(a)}],options:{chart:{height:350,type:"bar"},colors:j,plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{enabled:!0,formatter:function(e){return e+"\xb0C"},offsetY:10,style:{fontSize:"1.6rem",colors:[o]}},xaxis:{categories:Object(S.a)(n),position:"bottom",axisBorder:{show:!0},axisTicks:{show:!1},tooltip:{enabled:!1},labels:{style:{colors:m,fontSize:"1.5rem"}}},yaxis:{axisBorder:{show:!0},axisTicks:{show:!1},labels:{show:!0,align:"right",formatter:function(e){return e+"\xb0C"},style:{colors:m,fontSize:"1.5rem"}}}}};return Object(k.jsx)("div",{className:"diagram",children:Object(k.jsx)(C.a,{type:"bar",options:v.options,series:v.series})})},M=(a(30),function(e){var t=e.isLoaded,a=Object(r.useState)(!0),n=Object(D.a)(a,2),s=n[0],i=n[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){i(!s)}),1e3);return function(){clearTimeout(e)}}),[t]),s?Object(k.jsx)("div",{className:"preloader "+(t?"preloader-hidden":""),children:Object(k.jsxs)("svg",{width:"200",height:"200",viewBox:"0 0 100 100",children:[Object(k.jsx)("polyline",{className:"line-cornered stroke-still",points:"0,0 100,0 100,100","stroke-width":"10",fill:"none"}),Object(k.jsx)("polyline",{className:"line-cornered stroke-still",points:"0,0 0,100 100,100","stroke-width":"10",fill:"none"}),Object(k.jsx)("polyline",{className:"line-cornered stroke-animation",points:"0,0 100,0 100,100","stroke-width":"10",fill:"none"}),Object(k.jsx)("polyline",{className:"line-cornered stroke-animation",points:"0,0 0,100 100,100","stroke-width":"10",fill:"none"})]})}):null}),E=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={actualTemperature:"0",maxTemperature:"0",minTemperature:"0",date:"Fri, May 6",cityName:"City Name",windSpeed:"---",humidity:"--",pressure:"----",weatherDescription:"clouds",weatherIcon:"wi wi-day-cloudy",temperaturesForecast:[-10,-5,0,5,10],temperaturesForecastLabels:["09:00","12:00","15:00","18:00","21:00"],loaded:!1,theme:"default"},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentDidUpdate",value:function(e,t,a){t.theme!==this.state.theme&&document.body.setAttribute("data-theme",this.state.theme)}},{key:"getFakeData",value:function(){var e=this;setTimeout((function(){e.setState(Object(d.a)({},{actualTemperature:"22",maxTemperature:24,minTemperature:18,date:"September 12th",cityName:"Fake-City",windSpeed:3.91,humidity:"43",pressure:"1016",weatherDescription:"OVERCAST CLOUDS",weatherIcon:"wi wi-day-cloudy",temperaturesForecast:[21,24,22,19,18],temperaturesForecastLabels:["12:09","15:09","18:09","21:09","00:09"],loaded:!0,theme:"rainy"}))}),1e3)}},{key:"getData",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:return t=e.sent,e.next=6,_(t.location);case 6:a=e.sent,this.setState({actualTemperature:a.actualTemperature,maxTemperature:a.maxTemperature,minTemperature:a.minTemperature,date:a.date,cityName:a.cityName,windSpeed:a.windSpeed,humidity:a.humidity,pressure:a.pressure,weatherDescription:a.weatherDescription,weatherIcon:a.weatherIcon,temperaturesForecast:a.temperaturesForecast,temperaturesForecastLabels:a.temperaturesForecastLabels,loaded:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.cityName,a=e.date,n=e.actualTemperature,s=e.maxTemperature,i=e.minTemperature,c=e.weatherDescription,o=e.weatherIcon,l=e.windSpeed,d=e.humidity,u=e.pressure,m=e.temperaturesForecast,h=e.temperaturesForecastLabels,p=(e.theme,e.loaded);return Object(k.jsxs)(r.Fragment,{children:[Object(k.jsx)(M,{isLoaded:p}),Object(k.jsxs)("div",{className:"main",children:[Object(k.jsx)(z,{cityName:t,date:a}),Object(k.jsx)(T,{data:{actualTemperature:n,maxTemperature:s,minTemperature:i}}),Object(k.jsx)(F,{data:{weatherDescription:c,weatherIcon:o,windSpeed:l,humidity:d,pressure:u}}),Object(k.jsx)(I,{data:{temperaturesForecast:m,temperaturesForecastLabels:h,loaded:p}})]})]})}}]),a}(n.a.Component);i.a.render(Object(k.jsx)(n.a.StrictMode,{children:Object(k.jsx)(E,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.e6b9248a.chunk.js.map